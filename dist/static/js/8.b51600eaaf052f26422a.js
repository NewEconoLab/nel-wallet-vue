webpackJsonp([8],{"0qqA":function(t,s,e){s=t.exports=e("FZ+f")(!1),s.push([t.i,"\n.btn-transfer[data-v-03728d80] {\r\n  border: 1px solid #ffffff;\r\n  border-radius: 5px;\n}\n.btn-disabled[data-v-03728d80],\r\n.btn-disabled[data-v-03728d80]:hover {\r\n  background: #77bcf6;\r\n  opacity: 1;\r\n  cursor: not-allowed;\n}\n.balance-type[data-v-03728d80] {\r\n  font-family: PingFangSC-Medium;\r\n  font-size: 20px;\r\n  color: #ffffff;\r\n  line-height: 20px;\n}\n.balance-amount[data-v-03728d80] {\r\n  font-family: PingFangSC-Medium;\r\n  font-size: 30px;\r\n  color: #ffffff;\r\n  line-height: 30px;\n}\n.neobalance .claim[data-v-03728d80] {\r\n  font-size: 16px;\r\n  color: #ffffff;\r\n  line-height: 16px;\r\n  border-top: 1px solid #b2b2b2;\n}\n.balance-asset .title[data-v-03728d80] {\r\n  padding-top: 60px;\r\n  padding-bottom: 20px;\n}\n.assetrow .row[data-v-03728d80] {\r\n  font-family: PingFangSC-Medium;\r\n  font-size: 16px;\r\n  color: #ffffff;\r\n  text-align: center;\r\n  line-height: 16px;\r\n  border-radius: 5px;\r\n  background: #454f60;\r\n  height: 60px;\r\n  margin: 0 auto;\n}\n.assetrow .row .info[data-v-03728d80] {\r\n  padding-top: 20px;\n}\n.assetrow .transfer-btn[data-v-03728d80] {\r\n  padding-top: 12px;\n}\n.balance-asset .assetrow[data-v-03728d80] {\r\n  padding-top: 20px;\r\n  text-align: center;\n}\n.loadmsg[data-v-03728d80] {\r\n  font-family: PingFangSC-Regular;\r\n  font-size: 12px;\r\n  color: #b2b2b2;\r\n  line-height: 12px;\n}\r\n",""])},"0rEL":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAAAXNSR0IArs4c6QAABNNJREFUWAnFWG9sU1UU/93Xt27t2GbBOLZ1k0lcTBQMYMQMEsIXpgEXNSEKivrFEE0MyIaJiQrEr1SHJP6JHxYcIiqJCaKbfBiQKJHwASPxT2ZMtzEYGGO7Ddau7XvXc/q2t1deS99rS73J6zs995zf+d1/5953BQoswZ5/l2saNgqIFQSxmJ4GCclvkO4qvcbpuUq6Cx4Pvh3bufAXrnNbhBuHptBkm5T6Dgj9cSnR7MZXCFyCVL4RQjlwuat2yKmvI4JL3ossSejYI4FtkNLjFDyrnRAaBe3zKtg3/FpgOKuNRalYZJu4V0qlMRTZS+SGpJQvFk2OI1ADGYsxGZtj2AJbFDl7sOWDaCA5rX9Gto9Z7G+H2F/hV54dfeWOSDbwrAR5rulSG6DmtmZzKr1OhBXheTTb3LR179IPp+4qLzlurmzlmBz75sZnEAy+K32xG8nj5es5Kx3ZyrGZg1WbQVDTox/TSl1tNSinzLGZgzWmOQcbQ5PtUqZ+tFY6latUoL1ZRUudByyPRHX88Y+GML0LKUKoa6501Z5lX4LjlS9FYyjaw7KbUl0B7F7jw9ZllVjgNdtqQnz3ZwLvnIlhZMIdUSm1HuK0Wggh06iN+ye2SGhHTGQHQtsiBYefqkGwNmOW2DxHJzRs6JvC5AwNoIsi4Nl6pbvucwNdaC+48E2bvrHWZ5I7MZTAk0encO/7Eaz4KIrukzdMQjzsu9ur3MLThm5wEpyQUzF5jbqUBsx58dKGF9rgx5mRFI79lrA5bnnAi1BHdVp/8VoKHYenbDa3UtDwJlWfqFe1uOx0S46BExrwav90zhhnL6XMuqUL3W/fzEmLo1OROtabSCUU7gnMz81whFpTQGFuCh3eggX43tKFV/db6/ymTe/PM6bsSiBu1EzZ5Mopj3FtpcAXm2tw353GsH79ewJHLtrnaB6Y2WrZpNLBs2QE64jcl5sXYFl9Or3iq19nsOv73PM0H0nmNj9R8lnnqVcoo/Y+UW2S670Qx46BaWju0p8tikJH8cs2bQGKp+/34pGgkalODyfx5mCsAJRMF+ZGPShKQnBjm9dEP/BTHEV23CyWIIISYyZyEYLf6Lw0QjhaWFqxhSduqlBwivKN663uZrBnjl0Hz0Mu8fkcbSgK/GVuqqdKHJcxJAvZTaxxeWcpZeGtjrkpxseKHCwG3EdZZc86Hwaeq8EhWsnL691vbfb4cpC5GQlLeg4BWofdyJnmdToTbn9o9sRSD6xsUPHwJxOIFTPUaU5AOg/S19RRWs3nndGxWz24OLPHFvkVNNcVk2LFeYPTLMH0yVV4dtpDO9P8MJrZVWOTOsIRd6doayRBXJgT62bXnVHdsD/yKe3N26zGTmSVOuullZVY21KB8es6Dp6Luz7mz8cRfePdgefn/mcQ5E8+XY+cIur/y5cdkTmnKIH1Y7uEuQ1lTBSu8FVXdFLHhudaUL63CHNsKzmOnUGQFX+9XPM3X0OUl6Rx9cGxmYO12AhyJd+RVPjFKhL7rca3SabLI7Eq270Mx8tKkCs4SW7vCmyi1bSPniTrSlkYk7E5Rq6bLY6XsUhyEbj7YLQ1mZBv0+Ip+wWmI4JzxNNXwEhxvtxEp93mOb2Td/oKGDghoPbkGs5sOK4IWgHKdYn+H1JhunGYOW88AAAAAElFTkSuQmCC"},"5smL":function(t,s,e){"use strict";var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var e in s)s.hasOwnProperty(e)&&(t[e]=s[e])};return function(s,e){function a(){this.constructor=s}t(s,e),s.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),n=this&&this.__decorate||function(t,s,e,a){var n,o=arguments.length,i=o<3?s:null===a?a=Object.getOwnPropertyDescriptor(s,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,s,e,a);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(i=(o<3?n(i):o>3?n(s,e,i):n(s,e))||i);return o>3&&i&&Object.defineProperty(s,e,i),i},o=this&&this.__metadata||function(t,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,s)},i=this&&this.__awaiter||function(t,s,e,a){return new(e||(e=Promise))(function(n,o){function i(t){try{l(a.next(t))}catch(t){o(t)}}function r(t){try{l(a.throw(t))}catch(t){o(t)}}function l(t){t.done?n(t.value):new e(function(s){s(t.value)}).then(i,r)}l((a=a.apply(t,s||[])).next())})},r=this&&this.__generator||function(t,s){function e(t){return function(s){return a([t,s])}}function a(e){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(i=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(i=i.call(o,e[1])).done)return i;switch(o=0,i&&(e=[0,i.value]),e[0]){case 0:case 1:i=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,o=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!(i=i.length>0&&i[i.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){l.label=e[1];break}if(6===e[0]&&l.label<i[1]){l.label=i[1],i=e;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(e);break}i[2]&&l.ops.pop(),l.trys.pop();continue}e=s.call(t,l)}catch(t){e=[6,t],o=0}finally{n=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var n,o,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r};Object.defineProperty(s,"__esModule",{value:!0});var l=e("6nHw"),c=e("/5sW"),d=e("EOM2"),u=e("PPZq"),h=e("+jyM"),f=e("VKSY"),p=e("XfB5"),b=e("slXE"),g=function(t){function s(){var s=t.call(this)||this;return s.currentAddress="",s.chooseAddress="",s.loadmsg="",s.claimbtn=!0,s.neoasset=new l.NeoAsset,s.balances=new Array,s.neoasset.gas=0,s.neoasset.neo=0,s.neoasset.claim="",s.chooseAddressarr=new Array,s.getGas=0,s}return a(s,t),s.prototype.mounted=function(){this.currentAddress=l.LoginInfo.getCurrentAddress(),this.getBalances(),this.initGetGas();var t=sessionStorage.getItem("claimState");t&&(this.claimbtn=!1,this.loadmsg="1"==t?""+this.$t("balance.msg2"):""+this.$t("balance.msg3")),this.openToast=this.$refs.toast.isShow,p.TaskManager.functionList=[],p.TaskManager.functionList.push(this.getBalances),l.TaskFunction.claimGas=this.startClaimGas,l.TaskFunction.claimState=this.claimState,l.TaskFunction.getGasTest=this.btnState},s.prototype.initGetGas=function(){return i(this,void 0,void 0,function(){var t;return r(this,function(s){switch(s.label){case 0:return[4,f.tools.wwwtool.api_hasclaimgas(this.currentAddress)];case 1:return t=s.sent(),t&&("3010"==t[0].code?this.btnState(0):"3012"==t[0].code?this.btnState(1):"3011"==t[0].code&&this.btnState(2)),[2]}})})},s.prototype.btnState=function(t){this.getGas=t},s.prototype.claimState=function(t){0==t&&(this.claimbtn=!0,this.loadmsg="",sessionStorage.removeItem("claimState")),1==t&&(this.claimbtn=!0,this.loadmsg=""+this.$t("balance.msg4"),sessionStorage.removeItem("claimState")),2==t&&(this.loadmsg=""+this.$t("balance.msg3"))},s.prototype.getTestGas=function(){return i(this,void 0,void 0,function(){var t,s,e;return r(this,function(a){switch(a.label){case 0:return this.getGas=2,[4,f.tools.wwwtool.api_claimgas(this.currentAddress,10)];case 1:return t=a.sent(),t?(s=b.default.blockheight.select("height"),"3000"==t[0].code?(this.openToast("success",""+this.$t("balance.successmsg"),4e3),e=new l.Task(l.ConfirmType.tranfer,"",{amount:10,address:this.currentAddress}),p.TaskManager.addTask(e,l.TaskType.getGasTest)):"3002"==t[0].code?(this.openToast("error",""+this.$t("balance.errmsg2"),4e3),this.getGas=0):"3003"==t[0].code?(this.openToast("error",""+this.$t("balance.errmsg1"),4e3),this.getGas=1):"3004"==t[0].code?(this.openToast("error",""+this.$t("balance.errmsg1"),4e3),this.getGas=1):(this.openToast("error",""+this.$t("balance.errmsg3"),4e3),this.getGas=0)):(this.openToast("error",""+this.$t("balance.errmsg3"),4e3),this.getGas=0),[2]}})})},s.prototype.addressSwitch=function(){l.LoginInfo.setCurrentAddress(this.chooseAddress),this.currentAddress=this.chooseAddress,this.getBalances()},s.prototype.getBalances=function(){return i(this,void 0,void 0,function(){var t,s,e,a,n,o,i,c,d,u=this;return r(this,function(r){switch(r.label){case 0:return f.tools.coinTool.initAllAsset(),[4,f.tools.wwwtool.api_getBalance(this.currentAddress)];case 1:return t=r.sent(),[4,f.tools.wwwtool.api_getclaimgas(this.currentAddress,0)];case 2:return s=r.sent(),[4,f.tools.wwwtool.api_getclaimgas(this.currentAddress,1)];case 3:return e=r.sent(),[4,f.tools.wwwtool.api_getnep5Balance(this.currentAddress)];case 4:return a=r.sent(),[4,f.tools.wwwtool.api_getHeight()];case 5:return n=r.sent(),this.neoasset.neo=0,this.neoasset.gas=0,t&&(o=Neo.Fixed8.parse(s.gas.toFixed(8)),i=Neo.Fixed8.parse(e.gas.toFixed(8)),c=o.add(i).toString(),this.neoasset.claim=c,t.forEach(function(t){t.asset==f.tools.coinTool.id_NEO&&(u.neoasset.neo=t.balance),t.asset==f.tools.coinTool.id_GAS&&(u.neoasset.gas=t.balance)})),d=this,[4,l.BalanceInfo.getBalancesByArr(t,a,n)];case 6:return d.balances=r.sent(),f.tools.storagetool.setStorage("balances_asset",JSON.stringify(this.balances)),[2]}})})},s.prototype.toClaimGas=function(){return i(this,void 0,void 0,function(){var t,s;return r(this,function(e){switch(e.label){case 0:return t=b.default.blockheight.select("height"),Neo.Fixed8.parse(this.neoasset.claim).compareTo(Neo.Fixed8.Zero)>0?this.neoasset.neo>0?[4,f.tools.coinTool.rawTransaction(this.currentAddress,f.tools.coinTool.id_NEO,this.neoasset.neo.toString())]:[3,2]:[3,3];case 1:return s=e.sent(),s.info&&(this.claimbtn=!1,this.loadmsg=""+this.$t("balance.msg1"),p.TaskManager.addTask(new l.Task(l.ConfirmType.tranfer,s.info,{type:"Claim",amount:this.neoasset.neo,assetname:"NEO",toaddress:this.currentAddress}),l.TaskType.tranfer),sessionStorage.setItem("claimState","1"),this.loadmsg=""+this.$t("balance.msg2")),[3,3];case 2:this.startClaimGas(),e.label=3;case 3:return[2]}})})},s.prototype.startClaimGas=function(){return i(this,void 0,void 0,function(){var t,s,e,a;return r(this,function(n){switch(n.label){case 0:return t=b.default.blockheight.select("height"),[4,f.tools.coinTool.claimGas()];case 1:return s=n.sent(),s.sendrawtransactionresult&&(this.loadmsg=""+this.$t("balance.msg3"),e=s.txid,a=JSON.parse(s.amount),p.TaskManager.addTask(new l.Task(l.ConfirmType.tranfer,e,{amount:a}),l.TaskType.ClaimGas),sessionStorage.setItem("claimState","2")),[2]}})})},s.prototype.toTransfer=function(t){f.tools.storagetool.setStorage("transfer_choose",t),window.location.hash="#transfer"},s=n([d.Component({components:{"wallet-layout":u.default,"spinner-wrap":h.default}}),o("design:paramtypes",[])],s)}(c.default);s.default=g},v8qo:function(t,s,e){"use strict";function a(t){e("zL9t")}Object.defineProperty(s,"__esModule",{value:!0});var n=e("5smL"),o=e.n(n),i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("div",{staticClass:"title",staticStyle:{"padding-bottom":"28px"}},[a("span",[t._v(t._s(t.$t("balance.title1")))]),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("span",{staticStyle:{"margin-right":"11px",color:"#fff"}},[t._v(t._s(t.$t("balance.title2"))+"："),a("span",{staticClass:"user-select-ok"},[t._v(t._s(t.currentAddress))])]),t._v(" "),t.chooseAddressarr&&t.chooseAddressarr.length>1?a("button",{staticClass:"btn",attrs:{"data-toggle":"modal","data-target":"#selectAddr"}},[t._v(t._s(t.$t("btn.switch")))]):t._e()])]),t._v(" "),a("div",{staticClass:"neobalance",staticStyle:{background:"#454F60","border-radius":"5px"}},[a("div",[a("div",{staticStyle:{padding:"30px","padding-bottom":"40px"}},[a("span",{staticClass:"balance-type"},[t._v("NEO ")]),t._v(" "),a("span",{staticClass:"balance-amount"},[t._v(t._s(t.neoasset.neo))])]),t._v(" "),a("div",{staticStyle:{"padding-left":"30px","padding-bottom":"30px"}},[a("span",{staticClass:"balance-type"},[t._v("GAS ")]),t._v(" "),a("span",{staticClass:"balance-amount"},[t._v(t._s(t.neoasset.gas))]),t._v(" "),a("span",{staticStyle:{"vertical-align":"super","margin-left":"10px"}},[0==t.getGas?a("button",{staticClass:"btn btn-nel",on:{click:t.getTestGas}},[t._v(t._s(t.$t("btn.getGas")))]):t._e(),t._v(" "),1==t.getGas?a("button",{staticClass:"btn btn-nel btn-disabled",attrs:{disabled:""}},[t._v(t._s(t.$t("btn.getGas")))]):t._e(),t._v(" "),2==t.getGas?a("button",{staticClass:"btn btn-nel btn-disabled",attrs:{disabled:""}},[t._v(t._s(t.$t("btn.gettingGas")))]):t._e(),t._v(" "),a("v-hint",[a("div",{staticClass:"hint-img"},[a("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:e("0rEL"),alt:""}})]),t._v(" "),a("div",{staticClass:"hint-content hint-otherwidth"},[t._v("\n                "+t._s(t.$t("balance.tips"))+"\n            ")])])],1),t._v(" "),a("v-toast",{ref:"toast"})],1),t._v(" "),a("div",{staticClass:"claim",staticStyle:{padding:"30px","padding-left":"2.3%"}},[a("span",{staticStyle:{"margin-right":"17px"}},[t._v(t._s(t.$t("balance.title3"))+" : "+t._s(t.neoasset.claim))]),t._v(" "),"0"!=t.neoasset.claim&&t.claimbtn?a("button",{staticClass:"btn btn-nel",on:{click:t.toClaimGas}},[t._v(t._s(t.$t("btn.claim")))]):t._e(),t._v(" "),t.claimbtn?t._e():a("button",{staticClass:"btn btn-nel btn-disabled",attrs:{disabled:""}},[t._v(t._s(t.$t("btn.claiming")))]),t._v(" "),a("span",{staticClass:"loadmsg"},[t._v(" "+t._s(t.loadmsg))])])])]),t._v(" "),t.balances.length?a("div",{staticClass:"balance-asset"},[a("div",{staticClass:"title"},[a("span",[t._v(t._s(t.$t("balance.title4")))])]),t._v(" "),t._l(t.balances,function(s){return a("div",{key:s.asset,staticClass:"assetrow"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2 info"},[a("span",[t._v(t._s(s.names))])]),t._v(" "),a("div",{staticClass:"col-sm-8 info"},[a("span",[t._v(" "+t._s(s.balance))])]),t._v(" "),a("div",{staticClass:"col-sm-2 transfer-btn"},[a("span",{staticClass:"btn btn-transfer",on:{click:function(e){t.toTransfer(s.asset)}}},[t._v(t._s(t.$t("btn.transfer")))])])])])})],2):t._e(),t._v(" "),a("div",{staticStyle:{height:"30px"}}),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"selectAddr",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._m(0,!1,!1),t._v(" "),a("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.$t("balance.title5")))])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputFile"}},[t._v(t._s(t.$t("balance.title6"))+":")]),t._v(" "),a("div",{staticClass:"radio",attrs:{id:"selectAddress"}},t._l(t.chooseAddressarr,function(s){return a("label",{key:s.address},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.chooseAddress,expression:"chooseAddress"}],attrs:{type:"radio",autocomplete:"off"},domProps:{value:s.address,checked:t._q(t.chooseAddress,s.address)},on:{change:function(e){t.chooseAddress=s.address}}}),t._v(t._s(s.address)+"\n              ")])}))])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v(t._s(t.$t("btn.close")))]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(s){t.addressSwitch()}}},[t._v(t._s(t.$t("btn.confirm")))])])])])])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],l={render:i,staticRenderFns:r},c=l,d=e("VU/8"),u=a,h=d(o.a,c,!1,u,"data-v-03728d80",null);s.default=h.exports},zL9t:function(t,s,e){var a=e("0qqA");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("3bbe6cc8",a,!0)}});