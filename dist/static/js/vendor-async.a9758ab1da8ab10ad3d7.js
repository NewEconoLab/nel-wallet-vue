webpackJsonp([0],{"98rD":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("Wj+m"),i=o("VKSY"),r=function(){function t(t,e){this.store=t,this.day=e}return t.prototype.getAuctionInfo=function(){var t=this.store.queryStore(this.auctionId),e=new n.AuctionInfoView(t);return e.process=this.getProcess(e),e},t.prototype.getProcess=function(t){var e=new n.Process(t.startTime.blocktime,this.day),o=t.endTime&&t.endTime.blocktime?t.endTime.blocktime:i.tools.timetool.currentTime(),r=accSub(o,t.startTime.blocktime),s=0;if(t.state==n.AuctionState.fixed)e.state=n.AuctionState.fixed,s=accDiv(r,3*this.day),e.timearr.length=3;else if(t.state==n.AuctionState.random)e.state=n.AuctionState.random,s=accDiv(r,5*this.day),e.timearr.length=5;else{e.state=n.AuctionState.end;var a=accSub(t.addwho.lastTime.blocktime,t.startTime.blocktime);a<2*this.day?(s=accDiv(r,3*this.day),e.timearr.length=3):(s=accDiv(r,5*this.day),e.timearr.length=5)}var c=s>=1?100:accMul(s,100);return e.width=parseFloat(c.toFixed(2)),e},t}();e.AuctionInfoService=r},"9vCx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("Wj+m"),i=o("5LD5"),r=function(){function t(t){this.tablename=t,this.session=new i.sessionStoreTool(t)}return t.prototype.setSotre=function(t,e){var o=this.session.getList();o=o||{};for(var i=0;i<t.length;i++){var r=t[i];if(r.auctionState!=n.AuctionState.pass){if(r.addwholist)for(var s=0;s<r.addwholist.length;s++){var a=r.addwholist[s];a.address==e&&(r.addWho=a)}o[r.auctionId]=r}else delete o[r.auctionId]}this.session.setList(o)},t.prototype.getSotre=function(){var t=this.session.getList(),e=[];for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];e.push(n)}return e},t.prototype.push=function(t){var e=this.session.getList();e[t.auctionId]=t,this.session.setList(e)},t.prototype.queryStore=function(t){return this.session.select(t)},t}();e.AuctionStore=r},"9xxT":function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(s,a)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function o(t){return function(e){return n([t,e])}}function n(o){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,r&&(s=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[0,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){c.label=o[1];break}if(6===o[0]&&c.label<s[1]){c.label=s[1],s=o;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(o);break}s[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],r=0}finally{i=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var i,r,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var r=o("VKSY"),s=o("6nHw"),a=function(){function t(){}return t.prototype.exchangeCGas=function(t){return n(this,void 0,void 0,function(){var e,o,n,a,c,u,l,g,M;return i(this,function(i){switch(i.label){case 0:e=r.tools.contract.buildScript(r.tools.coinTool.id_SGAS,"mintTokens",[]),o=ThinNeo.Helper.GetAddressFromScriptHash(r.tools.coinTool.id_SGAS),n=new s.Result,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,r.tools.coinTool.getassets()];case 2:return a=i.sent(),(c=r.tools.coinTool.makeTran(a,o,r.tools.coinTool.id_GAS,Neo.Fixed8.fromNumber(t)),u=c.info.tran,c.err)?[3,6]:u.inputs.length+u.outputs.length>60?(n.err=!0,n.info={code:"1006",msg:""},[2,n]):[3,3];case 3:return u.type=ThinNeo.TransactionType.InvocationTransaction,u.extdata=new ThinNeo.InvokeTransData,u.extdata.script=e,u.extdata.gas=Neo.Fixed8.fromNumber(0),[4,r.tools.coinTool.signData(u)];case 4:return l=i.sent(),[4,r.tools.wwwtool.api_postRawTransaction(l)];case 5:return g=i.sent(),n.err=!g.sendrawtransactionresult,n.err?n.info={code:"-100",msg:""}:n.info=g.txid,[2,n];case 6:return[3,8];case 7:throw M=i.sent();case 8:return[2]}})})},t.prototype.exchangeGas=function(){return n(this,void 0,void 0,function(){return i(this,function(t){return[2]})})},t.prototype.splitUtxo=function(){return n(this,void 0,void 0,function(){var t,e,o,n,a,c,u,l,g,M,I,d,A;return i(this,function(i){switch(i.label){case 0:return[4,r.tools.coinTool.getassets()];case 1:t=i.sent(),e=t[r.tools.coinTool.id_GAS],o=new ThinNeo.Transaction,o.type=ThinNeo.TransactionType.ContractTransaction,o.version=0,o.extdata=null,o.attributes=[],o.inputs=[],o.outputs=[],o.witnesses=null==o.witnesses?[]:o.witnesses,n=Neo.Fixed8.Zero;for(a in e)if(c=e[a],u=new ThinNeo.TransactionInput,u.hash=c.txid.hexToBytes().reverse(),u.index=c.n,o.inputs.push(u),n=n.add(c.count),n.compareTo(Neo.Fixed8.fromNumber(60))>1)break;for(l=0;l<600;l++)g=new ThinNeo.TransactionOutput,g.assetId=r.tools.coinTool.id_GAS.hexToBytes().reverse(),g.toAddress=ThinNeo.Helper.GetPublicKeyScriptHash_FromAddress(s.LoginInfo.getCurrentAddress()),g.value=Neo.Fixed8.fromNumber(.1),o.outputs.push(g);return M=n.subtract(Neo.Fixed8.fromNumber(61)),I=new ThinNeo.TransactionOutput,I.assetId=r.tools.coinTool.id_GAS.hexToBytes().reverse(),I.toAddress=ThinNeo.Helper.GetPublicKeyScriptHash_FromAddress(s.LoginInfo.getCurrentAddress()),I.value=M,o.outputs.push(I),[4,r.tools.coinTool.signData(o)];case 2:return d=i.sent(),[4,r.tools.wwwtool.api_postRawTransaction(d)];case 3:return A=i.sent(),console.log(A),[2]}})})},t}();e.ExchangeService=a},VYSC:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("9vCx");!function(t){t.auction_neo=new n.AuctionStore("AUCTION_LIST_NEO"),t.auction_test=new n.AuctionStore("AUCTION_LIST_TEST")}(e.store||(e.store={}))},oeIN:function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(s,a)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function o(t){return function(e){return n([t,e])}}function n(o){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,r&&(s=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[0,s.value]),o[0]){case 0:case 1:s=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){c.label=o[1];break}if(6===o[0]&&c.label<s[1]){c.label=s[1],s=o;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(o);break}s[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],r=0}finally{i=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var i,r,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var r=o("Wj+m"),s=o("VKSY"),a=o("6nHw"),c=function(){function t(t){this.store=t}return t.prototype.getMyAuctionList=function(t,e,o){return n(this,void 0,void 0,function(){var e,o,n,s,a,a;return i(this,function(i){switch(i.label){case 0:return e=[],[4,this.getAuctionList(t)];case 1:for(o=i.sent(),o=o||[],n=0;n<o.length;n++)s=o[n],s.auctionState!=r.AuctionState.open&&(s.auctionState==r.AuctionState.end?s.addWho&&(a=new r.AuctionView(s),e.push(a)):(a=new r.AuctionView(s),e.push(a)));return e.sort(function(t,e){return e.startTime.blocktime-t.startTime.blocktime}),[2,e]}})})},t.prototype.getAuctionList=function(t){return n(this,void 0,void 0,function(){var e,o,n,r,a,c;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),e=this.store.getSotre(),e&&e.length>0?[2,e]:[3,1];case 1:return[4,s.tools.wwwtool.getauctioninfocount(t,"."+this.root.rootname)];case 2:return o=i.sent(),[4,s.tools.wwwtool.getauctioninfobyaddress(t,1,o,"."+this.root.rootname)];case 3:return n=i.sent(),n?(r=n[0].list,this.store.setSotre(r,t),r=this.store.getSotre(),[2,r]):(a=this.store.getSotre(),[2,a||[]]);case 4:return[3,6];case 5:return c=i.sent(),[3,6];case 6:return[2]}})})},t.prototype.updateAuctionList=function(t){return n(this,void 0,void 0,function(){var e,o,n,c,u,l;return i(this,function(i){switch(i.label){case 0:for(e=this.store.getSotre(),o=[],n=0;n<e.length;n++)c=e[n],c.auctionState==r.AuctionState.end?c.addWho&&(c.maxBuyer==c.addWho.address?c.addWho.getdomainTime||o.push(c.auctionId):c.addWho.accountTime||o.push(c.auctionId)):o.push(c.auctionId);return[4,s.tools.wwwtool.getauctioninfobyaucitonid(t,o,"."+this.root.rootname)];case 1:return u=i.sent(),u&&(l=u[0].list,this.store.setSotre(l,t),this.auctionList=this.store.getSotre()),a.TaskFunction.auctionStateUpdate&&a.TaskFunction.auctionStateUpdate(),[2]}})})},t.prototype.queryAuctionByDomain=function(t){return n(this,void 0,void 0,function(){var e,o,n;return i(this,function(i){switch(i.label){case 0:return[4,s.tools.nnssell.getSellingStateByDomain(t,this.root)];case 1:return e=i.sent(),(o=new r.Auction,e.id)?(n="neo"==this.root.rootname?86400:300,[4,s.tools.nnssell.getAuctionByStateInfo(e,n)]):[3,3];case 2:return o=i.sent(),[2,o];case 3:return[2,o]}})})},t.prototype.startAuction=function(t){return n(this,void 0,void 0,function(){var e,o,n,c,u,l,g,M,I;return i(this,function(i){switch(i.label){case 0:e=a.LoginInfo.getCurrentAddress(),o=[t,this.root.rootname].join("."),n=new r.Auction,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,s.tools.nnssell.startAuciton(t,this.root)];case 2:return c=i.sent(),u=c.info,l=new a.Task(a.ConfirmType.contract,u,{domain:o}),s.tools.taskManager.addTask(l,a.TaskType.openAuction),[4,s.tools.wwwtool.getauctioninfobyaucitonid(e,[u],"."+this.root.rootname)];case 3:return g=i.sent(),g?(M=c[0].list,n.parse(M[0],e)):(n.auctionId=u,n.domain=t,n.fulldomain=o,n.auctionState=r.AuctionState.open),this.store.push(n),[2,u];case 4:return I=i.sent(),[3,5];case 5:return[2]}})})},t.prototype.auctionRaise=function(t,e,o,c){return n(this,void 0,void 0,function(){var n,u,l,g,M,I,d,A,h;return i(this,function(i){switch(i.label){case 0:n=a.LoginInfo.getCurrentAddress(),u=new a.Result,i.label=1;case 1:return i.trys.push([1,6,,7]),[4,s.tools.nnssell.raise(t,o,c)];case 2:return l=i.sent(),l.err?[3,4]:(g=l.info,M=new a.Task(a.ConfirmType.contract,g,{domain:e,amount:o}),s.tools.taskManager.addTask(M,a.TaskType.addPrice),[4,s.tools.wwwtool.getauctioninfobyaucitonid("",[t],"."+this.root.rootname)]);case 3:return I=i.sent(),d=new r.Auction,u?(u.err=!1,u.info=g,A=I[0].list,d.parse(A[0],n)):d.auctionState=r.AuctionState.open,this.store.push(d),[3,5];case 4:u.err=!0,u.info="raise fail",i.label=5;case 5:return[2,u];case 6:throw h=i.sent();case 7:return[2]}})})},t.prototype.pushAuctionToSession=function(t){var e=a.LoginInfo.getCurrentAddress(),o=this.store.getSotre();o.push(t),this.store.setSotre(o,e)},t}();e.AuctionService=c},pp3u:function(t,e){t.exports="data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSIxNXB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNSAxNiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5ICg1MTAwMikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+PC9kZWZzPg0KICAgIDxnIGlkPSLmtY/op4jlmag0IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9ImJsb2Nrcy1oYW5nb3ZlciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY1OC4wMDAwMDAsIC0xMTY1LjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPg0KICAgICAgICAgICAgPGcgaWQ9InN3dGljaCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTkwLjAwMDAwMCwgMTE1NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTEuMDAwMDAwLCAwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjUuMjc2MzkzMiwxMi4xNzEwMzk0IEwzMS42NTgzNTkyLDI0LjkzNDk3MTUgQzMxLjkwNTM0ODUsMjUuNDI4OTUgMzEuNzA1MTI0MSwyNi4wMjk2MjMgMzEuMjExMTQ1NiwyNi4yNzY2MTIzIEMzMS4wNzIyOTAyLDI2LjM0NjA0IDMwLjkxOTE3NzEsMjYuMzgyMTg1MSAzMC43NjM5MzIsMjYuMzgyMTg1MSBMMTgsMjYuMzgyMTg1MSBDMTcuNDQ3NzE1MywyNi4zODIxODUxIDE3LDI1LjkzNDQ2OTggMTcsMjUuMzgyMTg1MSBDMTcsMjUuMjI2OTQgMTcuMDM2MTQ1MSwyNS4wNzM4MjY5IDE3LjEwNTU3MjgsMjQuOTM0OTcxNSBMMjMuNDg3NTM4OCwxMi4xNzEwMzk0IEMyMy43MzQ1MjgxLDExLjY3NzA2MSAyNC4zMzUyMDExLDExLjQ3NjgzNjYgMjQuODI5MTc5NiwxMS43MjM4MjU5IEMyNS4wMjI3MDcsMTEuODIwNTg5NiAyNS4xNzk2Mjk1LDExLjk3NzUxMiAyNS4yNzYzOTMyLDEyLjE3MTAzOTQgWiIgaWQ9IlRyaWFuZ2xlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNC4zODIwNzYsIDE5LjAwMDExMCkgcm90YXRlKDkwLjAwMDAwMCkgdHJhbnNsYXRlKC0yNC4zODIwNzYsIC0xOS4wMDAxMTApICI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},r84I:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("98rD"),i=o("oeIN"),r=o("VYSC"),s=o("9xxT");!function(t){t.auction_neo=new i.AuctionService(r.store.auction_neo),t.auction_test=new i.AuctionService(r.store.auction_test),t.auctionInfo_neo=new n.AuctionInfoService(r.store.auction_neo,86400),t.auctionInfo_test=new n.AuctionInfoService(r.store.auction_test,300),t.exchange=new s.ExchangeService}(e.services||(e.services={}))},tt5S:function(t,e){t.exports="data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSIxNXB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNSAxNiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5ICg1MTAwMikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+PC9kZWZzPg0KICAgIDxnIGlkPSLmtY/op4jlmag0IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9ImJsb2Nrcy1oYW5nb3ZlciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTYwOC4wMDAwMDAsIC0xMTY1LjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPg0KICAgICAgICAgICAgPGcgaWQ9InN3dGljaCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTkwLjAwMDAwMCwgMTE1NC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAiPg0KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjUuODk0NDI3MiwxMi43ODg4NTQ0IEwzMi4yNzYzOTMyLDI1LjU1Mjc4NjQgQzMyLjUyMzM4MjUsMjYuMDQ2NzY0OSAzMi4zMjMxNTgxLDI2LjY0NzQzNzkgMzEuODI5MTc5NiwyNi44OTQ0MjcyIEMzMS42OTAzMjQyLDI2Ljk2Mzg1NDkgMzEuNTM3MjExMSwyNyAzMS4zODE5NjYsMjcgTDE4LjYxODAzNCwyNyBDMTguMDY1NzQ5MiwyNyAxNy42MTgwMzQsMjYuNTUyMjg0NyAxNy42MTgwMzQsMjYgQzE3LjYxODAzNCwyNS44NDQ3NTQ5IDE3LjY1NDE3OTEsMjUuNjkxNjQxOCAxNy43MjM2MDY4LDI1LjU1Mjc4NjQgTDI0LjEwNTU3MjgsMTIuNzg4ODU0NCBDMjQuMzUyNTYyMSwxMi4yOTQ4NzU5IDI0Ljk1MzIzNTEsMTIuMDk0NjUxNSAyNS40NDcyMTM2LDEyLjM0MTY0MDggQzI1LjY0MDc0MSwxMi40Mzg0MDQ1IDI1Ljc5NzY2MzUsMTIuNTk1MzI3IDI1Ljg5NDQyNzIsMTIuNzg4ODU0NCBaIiBpZD0iVHJpYW5nbGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1LjAwMDAwMCwgMTkuMDAwMDAwKSBzY2FsZSgtMSwgMSkgcm90YXRlKDkwLjAwMDAwMCkgdHJhbnNsYXRlKC0yNS4wMDAwMDAsIC0xOS4wMDAwMDApICI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="}});